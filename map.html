<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ë–∏–æ—Å—Ñ–µ—Ä–∞ - –ë–∏–æ-”ô–ª–µ–º –∫–∞—Ä—Ç–∞—Å—ã</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-glow: #00f0ff; /* –¶–∏–∞–Ω */
            --secondary-glow: #00ff41; /* –ó–µ–ª–µ–Ω—ã–π */
            --bg-dark: #050b14;
            --panel-bg: rgba(12, 28, 48, 0.85);
            --border-color: #2a5a75;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: #000;
            color: white;
            font-family: 'Rajdhani', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-image: radial-gradient(circle at center, #1a2a3a 0%, #000 100%);
        }

        /* –†–∞–º–∫–∞ –ø–ª–∞–Ω—à–µ—Ç–∞/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ */
        .tablet-container {
            width: 1200px;
            height: 700px;
            background: url('https://www.transparenttextures.com/patterns/cubes.png'), linear-gradient(135deg, #0d1b2a 0%, #050b14 100%);
            border: 4px solid #3e4c5e;
            border-radius: 20px;
            position: relative;
            padding: 20px;
            box-shadow: 0 0 30px rgba(0, 240, 255, 0.2), inset 0 0 50px rgba(0,0,0,0.8);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —É–≥–æ–ª–∫–∏ */
        .tablet-container::before, .tablet-container::after {
            content: '';
            position: absolute;
            width: 50px;
            height: 50px;
            border: 2px solid var(--primary-glow);
            z-index: 10;
        }
        .tablet-container::before { top: 10px; left: 10px; border-right: none; border-bottom: none; border-top-left-radius: 15px; }
        .tablet-container::after { bottom: 10px; right: 10px; border-left: none; border-top: none; border-bottom-right-radius: 15px; }

        /* HEADER */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 0 20px;
        }

        .logo {
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            color: var(--primary-glow);
            text-shadow: 0 0 10px var(--primary-glow);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo span { color: #fff; }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(0, 240, 255, 0.1);
            padding: 5px 15px;
            border: 1px solid var(--primary-glow);
            border-radius: 20px;
            box-shadow: 0 0 10px rgba(0, 240, 255, 0.2);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #ccc;
            border: 2px solid #fff;
        }

        .user-info { font-size: 0.9rem; line-height: 1.2; }
        .user-xp { color: var(--secondary-glow); font-weight: bold; }

        /* MAIN CONTENT GRID */
        .main-content {
            display: flex;
            flex: 1;
            gap: 20px;
        }

        /* MAP AREA (LEFT) */
        .map-area {
            flex: 2;
            position: relative;
            background: radial-gradient(circle at center, rgba(0, 240, 255, 0.05) 0%, transparent 70%);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 15px;
        }

        .map-title {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 1.2rem;
            color: #fff;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –æ—Å—Ç—Ä–æ–≤–æ–≤ (–∑–∞–≥–ª—É—à–∫–∏ –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–æ–∫) */
        .island {
            position: absolute;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .island:hover { transform: scale(1.05); }
        .island-visual {
            width: 300px; /* –°—É—Ä–µ—Ç–∫–µ –±–∞–π–ª–∞–Ω—ã—Å—Ç—ã ”©–ª—à–µ–º–¥—ñ —Ä–µ—Ç—Ç–µ“£—ñ–∑ */
            height: 260px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            position: relative;
            filter: drop-shadow(0 0 15px rgba(0, 240, 255, 0.5)); /* –ù–µ–æ–Ω–¥—ã –∂–∞—Ä—ã“õ */
            transition: transform 0.3s ease; 
        }
        

        .island-label {
            background: rgba(0,0,0,0.7);
            padding: 5px 10px;
            border-radius: 10px;
            border: 1px solid #555;
            font-size: 0.9rem;
            text-align: center;
        }

        /* –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Å—Ç—Ä–æ–≤–æ–≤ (–∫–∞–∫ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–µ) */
        .micro-world { top: 25%; left: 1%; }
        .micro-world .island-visual { background-image: url('–º–∏–∫—Ä–æ.png'); }

        .botanic-garden { top: 1%; left: 35%; }
        .botanic-garden .island-visual { background-image: url('–±–±.png'); }

        .anatomy-corp { bottom: 1%; left: 30%; }
        .anatomy-corp .island-visual { background-image: url('aa.png'); }

        .genetics-tower { bottom: 20%; right: 2%; }
        .genetics-tower .island-visual { background-image: url('–≥—Ç.png'); }

        /* –°–æ–µ–¥–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏ (SVG) */
        .connections {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        /* –ë–∞–π–ª–∞–Ω—ã—Å —Å—ã–∑—ã“õ—Ç–∞—Ä—ã–Ω—ã“£ –∂–∞“£–∞ —Å—Ç–∏–ª—ñ */
        .connections path {
            fill: none;
            stroke: rgba(0, 240, 255, 0.5); /* –ù–µ–æ–Ω–¥—ã –∫”©–∫ —Ç“Ø—Å */
            stroke-width: 3;
            stroke-dasharray: 10, 15; /* “Æ–∑—ñ–∫ —Å—ã–∑—ã“õ ”©–ª—à–µ–º—ñ */
            stroke-linecap: round;
            filter: drop-shadow(0 0 8px rgba(0, 240, 255, 0.8));
            animation: flow 30s linear infinite; /* –≠–Ω–µ—Ä–≥–∏—è “õ–æ–∑“ì–∞–ª—ã—Å—ã */
        }

        /* –°—ã–∑—ã“õ –±–æ–π—ã–º–µ–Ω –∂—ã–ª–∂—ã—Ç—É –∞–Ω–∏–º–∞—Ü–∏—è—Å—ã */
        @keyframes flow {
            from { stroke-dashoffset: 1000; }
            to { stroke-dashoffset: 0; }
        }

        /* SIDEBAR (RIGHT) */
        .sidebar {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .panel {
            background: var(--panel-bg);
            border: 2px solid var(--border-color);
            border-radius: 15px;
            padding: 15px;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
            position: relative;
        }
        
        .panel-header {
            color: #8aa;
            font-size: 0.9rem;
            text-transform: uppercase;
            margin-bottom: 10px;
            letter-spacing: 1px;
        }

        /* –¢–µ–∫—É—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ */
        .current-task {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 2px solid var(--primary-glow);
            box-shadow: 0 0 15px rgba(0, 240, 255, 0.15);
        }

        .task-content {
            text-align: center;
            margin-bottom: 20px;
        }
        .task-icon { font-size: 3rem; margin-bottom: 10px; color: var(--primary-glow); }
        .task-title { font-size: 1.1rem; margin-bottom: 5px; }
        .task-subtitle { color: #aaa; font-size: 0.9rem; }

        .btn-start {
            background: transparent;
            color: var(--secondary-glow);
            border: 2px solid var(--secondary-glow);
            padding: 10px 40px;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1rem;
            cursor: pointer;
            text-transform: uppercase;
            box-shadow: 0 0 10px var(--secondary-glow);
            transition: all 0.3s;
            clip-path: polygon(10% 0, 100% 0, 100% 70%, 90% 100%, 0 100%, 0 30%);
        }
        .btn-start:hover {
            background: var(--secondary-glow);
            color: #000;
        }

        /* –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è */
        .achievements-grid {
            display: flex;
            justify-content: space-around;
            margin-top: 10px;
        }
        .badge {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #222;
            border: 2px solid #555;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: 0 0 10px rgba(255,255,255,0.1);
        }
        .badge.active { border-color: var(--primary-glow); color: var(--primary-glow); box-shadow: 0 0 10px var(--primary-glow); }
        .badge.locked { opacity: 0.5; filter: grayscale(1); }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes spin { 100% { transform: rotate(360deg); } }

        /* –ê—Ä–∞–ª–¥–∞—Ä–¥—ã“£ –±–∞—è—É –∂–æ“ì–∞—Ä—ã-—Ç”©–º–µ–Ω “õ–æ–∑“ì–∞–ª—É—ã */
        @keyframes float {
          0% { transform: translateY(0px); }
           50% { transform: translateY(-15px); }
           100% { transform: translateY(0px); }
          }
        
        .island {
            animation: float 4s ease-in-out infinite;
          }
          /* ”ò—Ä –∞—Ä–∞–ª ”ô—Ä—Ç“Ø—Ä–ª—ñ —É–∞“õ—ã—Ç—Ç–∞ “õ–æ–∑“ì–∞–ª—É—ã “Ø—à—ñ–Ω –∫–µ–∑–µ–∫—Ç–µ—Å—Ç—ñ—Ä—É */
          .botanic-garden { animation-delay: 1s; }
          .anatomy-corp { animation-delay: 2s; }
          .genetics-tower { animation-delay: 0.5s; }
          
          /* –ü–∞–Ω–µ–ª—å–¥–µ—Ä–¥—ñ“£ –∂–∞–ª–ø—ã —Å—Ç–∏–ª—ñ */
          .panel {
            background: rgba(12, 45, 72, 0.6); /* –ö”©–≥—ñ–ª–¥—ñ—Ä —Ç—É–Ω—ã“õ —Ñ–æ–Ω */
            border: 1px solid #1faec9; /* –ñ—ñ“£—ñ—à–∫–µ –Ω–µ–æ–Ω –∂–∏–µ–∫ */
            box-shadow: inset 0 0 15px rgba(0, 240, 255, 0.2);
            position: relative;
            padding: 20px;
            border-radius: 5px;
          }
          
          /* –ü–∞–Ω–µ–ª—å–¥—ñ“£ –±“±—Ä—ã—à—Ç–∞—Ä—ã–Ω–∞ –¥–µ–∫–æ—Ä–∞—Ç–∏–≤—Ç—ñ —ç–ª–µ–º–µ–Ω—Ç—Ç–µ—Ä “õ–æ—Å—É */
          .panel::before {
            content: "";
             position: absolute;
             top: -2px; left: -2px;
             width: 15px; height: 15px;
             border-top: 2px solid #00f0ff;
             border-left: 2px solid #00f0ff;
            }
            
            /* –¢–∞–ø—Å—ã—Ä–º–∞ —Ç–∞“õ—ã—Ä—ã–±—ã */
          .task-title {
            font-family: 'Orbitron', sans-serif;
            color: #fff;
            font-size: 1rem;
            margin-top: 10px;
          }
          .task-subtitle {
            color: #00f0ff; /* –¶–∏–∞–Ω —Ç“Ø—Å—ñ */
            font-weight: bold;
            font-size: 1.1rem;
          }
          
          /* –ë–ê–°–¢–ê–£ –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω —Å—É—Ä–µ—Ç—Ç–µ–≥—ñ–¥–µ–π –∂–∞—Å–∞—É */
          .btn-start {
            width: 100%;
            background: linear-gradient(180deg, #1faec9 0%, #0a4d68 100%);
            color: white;
            border: none;
            padding: 12px;
            font-weight: bold;
            cursor: pointer;
            clip-path: polygon(10% 0, 100% 0, 100% 70%, 90% 100%, 0 100%, 0 30%); /* “ö–∏“ì–∞—à —Ñ–æ—Ä–º–∞ */
            box-shadow: 0 0 15px rgba(0, 240, 255, 0.4);
            transition: 0.3s;
            text-transform: uppercase;
            letter-spacing: 2px;
          }

          .btn-start:hover {
              filter: brightness(1.2);
              transform: scale(1.02);
          }

          /* –ñ–µ—Ç—ñ—Å—Ç—ñ–∫—Ç–µ—Ä (Badges) —Å—Ç–∏–ª—ñ */
          .badge {
            width: 55px;
            height: 55px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            background: radial-gradient(circle, #0a4d68 0%, #050b14 100%);
            border: 2px solid #1faec9;
            box-shadow: 0 0 10px rgba(31, 174, 201, 0.5);
          }

          .badge.locked {
            opacity: 0.4;
            filter: grayscale(1);
            border-color: #3e4c5e;
          }

          /* –ë–µ–ª—Å–µ–Ω–¥—ñ –∂–µ—Ç—ñ—Å—Ç—ñ–∫—Ç–µ—Ä–¥—ñ“£ —Ç“Ø—Å—Ç–µ—Ä—ñ */
          .badge.active[data-type="blue"] { border-color: #00f0ff; color: #00f0ff; }
          .badge.active[data-type="purple"] { border-color: #a020f0; color: #a020f0; }
          .badge.active[data-type="green"] { border-color: #00ff41; color: #00ff41; }
          .badge.active[data-type="orange"] { border-color: #ff8c00; color: #ff8c00; }

          /* –ü–∞–π–¥–∞–ª–∞–Ω—É—à—ã –ø—Ä–æ—Ñ–∏–ª—ñ–Ω—ñ“£ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ */
        .user-profile {
            position: relative; /* –ú”ô–∑—ñ—Ä –æ—Å—ã“ì–∞–Ω “õ–∞—Ç—ã—Å—Ç—ã –æ—Ä–Ω–∞–ª–∞—Å—É—ã “Ø—à—ñ–Ω */
            cursor: pointer;
            transition: all 0.3s;
        }

        .user-profile:hover {
            background: rgba(0, 240, 255, 0.2);
        }

        .user-name-trigger {
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        /* –ê—à—ã–ª–º–∞–ª—ã –º”ô–∑—ñ—Ä —Å—Ç–∏–ª—ñ */
        .user-dropdown {
            position: absolute;
            top: 55px; /* –ü—Ä–æ—Ñ–∏–ª—å–¥—ñ“£ –∞—Å—Ç—ã–Ω–¥–∞ —Ç“±—Ä—É—ã “Ø—à—ñ–Ω */
            right: 0;
            width: 180px;
            background: var(--panel-bg);
            border: 2px solid var(--primary-glow);
            border-radius: 10px;
            display: none; /* ”ò–¥–µ–ø–∫—ñ –±–æ–π—ã–Ω—à–∞ –∂–∞—Å—ã—Ä—É */
            flex-direction: column;
            padding: 10px 0;
            z-index: 1000;
            box-shadow: 0 10px 30px rgba(0,0,0,0.8);
            backdrop-filter: blur(15px);
        }

        /* –ú”ô–∑—ñ—Ä —ñ—à—ñ–Ω–¥–µ–≥—ñ —Å—ñ–ª—Ç–µ–º–µ–ª–µ—Ä */
        .user-dropdown a {
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            font-size: 0.9rem;
            transition: 0.2s;
            display: block;
        }

        .user-dropdown a:hover {
            background: rgba(0, 240, 255, 0.1);
            color: var(--primary-glow);
            padding-left: 25px; /* –ñ—ã–ª–∂—É —ç—Ñ—Ñ–µ–∫—Ç—ñ */
        }

        /* –ú”ô–∑—ñ—Ä –∞—à—ã“õ –±–æ–ª“ì–∞–Ω–¥–∞“ì—ã –∫–ª–∞—Å—Å */
        .user-dropdown.show {
            display: flex;
            animation: fadeIn 0.2s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .sound-control {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 20px;
            font-size: 0.85rem;
            color: #ccc;
        }

        /* Switch (–ê—É—ã—Å—Ç—ã—Ä—ã–ø-“õ–æ—Å“õ—ã—à) –¥–∏–∑–∞–π–Ω—ã */
        .switch {
            position: relative;
            display: inline-block;
            width: 34px;
            height: 18px;
        }

        .switch input { opacity: 0; width: 0; height: 0; }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0; left: 0; right: 0; bottom: 0;
            background-color: #1a2a3a;
            transition: .4s;
            border-radius: 20px;
            border: 1px solid var(--border-color);
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 12px; width: 12px;
            left: 2px; bottom: 2px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
            box-shadow: 0 0 5px var(--primary-glow);
        }

        input:checked + .slider { background-color: var(--primary-glow); }
        input:checked + .slider:before { transform: translateX(16px); background-color: #000; }
        /* –≠–∫—Ä–∞–Ω–¥—ã –∂–∞–±–∞—Ç—ã–Ω “õ–∞—Ä–∞“£“ì—ã “õ–∞–±–∞—Ç */
        .transition-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, transparent 0%, #000 100%);
            z-index: 9999;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        /* "–ñ–∞—Ä—ã–ª—É/–°–æ—Ä—ã–ª—É" –∞–Ω–∏–º–∞—Ü–∏—è—Å—ã */
        .portal-zoom {
            animation: portalZoom 1s forwards cubic-bezier(0.7, 0, 0.3, 1);
        }

        @keyframes portalZoom {
            0% { transform: scale(1); filter: blur(0px) brightness(1); }
            50% { filter: blur(10px) brightness(2); }
            100% { transform: scale(5); filter: blur(20px) brightness(0); opacity: 0; }
        }

        /* –≠–∫—Ä–∞–Ω–Ω—ã“£ —à–µ—Ç—ñ–Ω–µ–Ω –±–∞—Å—Ç–∞–ø “õ–∞—Ä–∞“£“ì—ã–ª–∞–Ω—É—ã */
        .overlay-active {
            opacity: 1;
            background: #000;
        }
        /* –¢–∞–±—Ç–∞—Ä–¥—ã“£ —Å—Ç–∏–ª—ñ */
        .tabs-header {
            display: flex;
            gap: 5px;
            margin-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
        }

        .tab-btn {
            background: transparent;
            border: 1px solid transparent;
            color: #8aa;
            padding: 5px 10px;
            cursor: pointer;
            font-family: 'Rajdhani', sans-serif;
            font-size: 0.8rem;
            border-radius: 5px;
            transition: 0.3s;
        }

        .tab-btn.active {
            border-color: var(--primary-glow);
            color: var(--primary-glow);
            background: rgba(0, 240, 255, 0.1);
        }

        /* –ö–æ–Ω—Ç–µ–Ω—Ç—Ç—ñ –∂–∞—Å—ã—Ä—É/–∫”©—Ä—Å–µ—Ç—É */
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.4s; }

        /* –†–µ–π—Ç–∏–Ω–≥ —Ç—ñ–∑—ñ–º—ñ */
        .leader-list { font-size: 0.9rem; }
        .leader-item {
            display: flex;
            justify-content: space-between;
            padding: 8px;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        .leader-item.top { color: var(--secondary-glow); }
        .leader-item.me { background: rgba(0, 240, 255, 0.2); border-radius: 5px; font-weight: bold; }

        /* –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä */
        .progress-bar-container { margin-bottom: 15px; font-size: 0.8rem; }
        .progress-bg { height: 8px; background: #1a2a3a; border-radius: 4px; overflow: hidden; margin-top: 5px; }
        .progress-fill { height: 100%; background: var(--primary-glow); box-shadow: 0 0 10px var(--primary-glow); }

        .task-check-list { list-style: none; font-size: 0.8rem; line-height: 1.8; }
        .task-check-list .done { color: #8aa; }
        .task-check-list .current { color: var(--primary-glow); font-weight: bold; }

        .stat-info { font-size: 0.7rem; color: #555; text-align: center; margin-top: 10px; }
        .modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0; top: 0; width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: var(--panel-bg);
            margin: 10% auto;
            padding: 30px;
            border: 2px solid var(--primary-glow);
            width: 500px;
            border-radius: 20px;
            position: relative;
            box-shadow: 0 0 50px rgba(0, 240, 255, 0.3);
            animation: modalSlide 0.3s ease-out;
        }

        @keyframes modalSlide {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .close-modal {
            position: absolute;
            top: 15px; right: 20px;
            color: #fff; font-size: 28px; cursor: pointer;
        }

        .modal-body { display: flex; gap: 20px; align-items: center; }

        .item-icon-large {
            font-size: 5rem;
            background: rgba(0, 240, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            border: 1px solid var(--primary-glow);
        }

        .item-category { color: var(--secondary-glow); font-size: 0.9rem; margin-top: 5px; }
        .item-stats { margin-top: 20px; font-size: 0.8rem; display: flex; flex-direction: column; gap: 5px; }

        .quick-inv-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: var(--panel-bg);
            border: 2px solid var(--primary-glow);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 1000;
            text-decoration: none;
            box-shadow: 0 0 15px var(--primary-glow);
            transition: 0.3s;
        }
        .quick-inv-btn:hover { transform: scale(1.1); background: var(--primary-glow); }
    </style>
</head>
<body>
    <a href="inventory.html" class="quick-inv-btn" title="“ö–æ—Ä–∂—ã–Ω">üéí</a>
    <div id="inventoryModal" class="modal">
    <div class="modal-content">
        <span class="close-modal">&times;</span>
        <div class="modal-body">
            <div class="modal-visual">
                <div id="itemIcon" class="item-icon-large">üî¨</div>
            </div>
            <div class="modal-info">
                <h2 id="itemName">–ú–∏–∫—Ä–æ—Å–∫–æ–ø</h2>
                <p id="itemCategory" class="item-category">“ö“±—Ä–∞–ª-—Å–∞–π–º–∞–Ω</p>
                <hr style="border: 0.5px solid var(--border-color); margin: 15px 0;">
                <p id="itemDescription">–ë“±–ª –Ω—ã—Å–∞–Ω–¥–∞—Ä–¥—ã“£ –±—ñ—Ä–Ω–µ—à–µ –µ—Å–µ “Ø–ª–∫–µ–π—Ç—ñ–ª–≥–µ–Ω –∫–µ—Å–∫—ñ–Ω—ñ–Ω –∞–ª—É “Ø—à—ñ–Ω “õ–æ–ª–¥–∞–Ω—ã–ª–∞—Ç—ã–Ω –æ–ø—Ç–∏–∫–∞–ª—ã“õ “õ“±—Ä–∞–ª.</p>
                <div class="item-stats">
                    <span>–°–∏—Ä–µ–∫—Ç—ñ–≥—ñ: <b style="color: var(--primary-glow);">–ñ–∞–ª–ø—ã</b></span>
                    <span>–¢–∞–±—ã–ª–¥—ã: <b>05.01.2026</b></span>
                </div>
            </div>
        </div>
    </div>
</div>
    <audio id="clickSound" src="–∫–ª–∏–∫.mp3" preload="auto"></audio>
    <audio id="bgMusic" loop src="—Ñ–æ–Ω.mp3"></audio>
    <div class="transition-overlay" id="portalOverlay"></div>
    <div class="tablet-container">
        <header>
            <div class="logo">
                üß¨ <span>–ë–∏–æ—Å—Ñ–µ—Ä–∞</span>
            </div>
            <div class="user-profile" id="userProfile">
            <div class="user-avatar"></div>
            <div class="user-info">
                <div class="user-name-trigger">–ê—Å“õ–∞—Ä | –î–µ“£–≥–µ–π 5 <span style="font-size: 0.7rem;">‚ñº</span></div>
                <div class="user-xp">1200 XP</div>
            </div>
            
            <div class="user-dropdown" id="userDropdown">
                <a href="profile.html">üë§ –ñ–µ–∫–µ –∫–∞–±–∏–Ω–µ—Ç</a>
                <div class="sound-control">
                    <span>üîä –≠—Ñ—Ñ–µ–∫—Ç—ñ–ª–µ—Ä</span>
                    <label class="switch">
                        <input type="checkbox" id="sfxToggle" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="sound-control">
                    <span>üéµ –ú—É–∑—ã–∫–∞</span>
                    <label class="switch">
                        <input type="checkbox" id="bgmToggle">
                        <span class="slider"></span>
                    </label>
                </div>
                <hr style="border: 0.5px solid var(--border-color); opacity: 0.3; margin: 5px 10px;">
                <a href="settings.html">‚öôÔ∏è –ë–∞–ø—Ç–∞—É–ª–∞—Ä</a>
                <hr style="border: 0.5px solid var(--border-color); margin: 5px 0;">
                <a href="help.html">‚ùì –ö”©–º–µ–∫ –∞–ª—É</a>
                <a href="index.html" style="color: var(--error);">üö™ –®—ã“ì—É</a>
            </div>

        </header>

        <main class="main-content">
            <section class="map-area">
                <h2 class="map-title">–ë–∏–æ-”ô–ª–µ–º –∫–∞—Ä—Ç–∞—Å—ã</h2>
                
                <svg class="connections" viewBox="0 0 1200 700" preserveAspectRatio="none">
                  <path d="M 180 250 Q 350 80 520 120" />
                  
                  <path d="M 160 330 Q 200 550 350 580" />
                  
                  <path d="M 650 130 Q 950 150 1000 450" />
                  
                  <path d="M 520 620 Q 800 680 950 550" />
              </svg>
                
                <div class="island micro-world">
                    <div class="island-visual"></div> <div class="island-label">–ú–∏–∫—Ä–æ”ô–ª–µ–º</div>
                </div>

                <div class="island botanic-garden">
                    <div class="island-visual"></div>
                    <div class="island-label">–ë–æ—Ç–∞–Ω–∏–∫–∞–ª—ã“õ –±–∞“õ</div>
                </div>

                <div class="island anatomy-corp">
                    <div class="island-visual"></div>
                    <div class="island-label">–ê–Ω–∞—Ç–æ–º–∏—è –∫–æ—Ä–ø—É—Å—ã</div>
                </div>

                <div class="island genetics-tower">
                    <div class="island-visual"></div>
                    <div class="island-label">–ì–µ–Ω–µ—Ç–∏–∫–∞ –º“±–Ω–∞—Ä–∞—Å—ã</div>
                </div>
            </section>

            <aside class="sidebar">
                <div class="panel current-task">
                    <div class="panel-header">–ê“í–´–ú–î–ê“í–´ –¢–ê–ü–°–´–†–ú–ê</div>
                    <div class="task-content">
                        <div class="task-card">
                            <div class="task-icon">üî¨</div>
                            <div class="task-title">–ó–µ—Ä—Ç—Ö–∞–Ω–∞–ª—ã“õ –∂“±–º—ã—Å ‚Ññ3:</div>
                            <div class="task-subtitle">–ü–∏—è–∑ –∂–∞—Å—É—à–∞—Å—ã–Ω “õ–∞—Ä–∞—É</div>
                        </div>
                    </div>
                    <button class="btn-start">–ë–ê–°–¢–ê–£ ></button>
                </div>

                <div class="panel user-stats-panel">
                    <div class="tabs-header">
                        <button class="tab-btn active" onclick="openTab(event, 'inventory')">üéí “ö–æ—Ä–∂—ã–Ω</button>
                        <button class="tab-btn" onclick="openTab(event, 'leaderboard')">üèÜ –†–µ–π—Ç–∏–Ω–≥</button>
                        <button class="tab-btn" onclick="openTab(event, 'progress')">üìñ –ö“Ø–Ω–¥–µ–ª—ñ–∫</button>
                    </div>

                    <div class="tab-content active" id="inventory">
                        <div class="achievements-grid">
                            <div class="badge active" title="–ú–∏–∫—Ä–æ—Å–∫–æ–ø">üî¨</div>
                            <div class="badge active" title="–ö–ª–µ—Ç–∫–∞ “õ“±—Ä—ã–ª—ã–º—ã">ü¶†</div>
                            <div class="badge active" title="“ö–∞—Ä–∞–ø–∞–π—ã–º–¥—ã–ª–∞—Ä">üß´</div>
                            <div class="badge locked">ü´Ä</div>
                            <div class="badge locked">ü¶∑</div>
                            <div class="badge locked">üß†</div>
                        </div>
                        <p class="stat-info">3/60 –∂–µ—Ç–æ–Ω –∂–∏–Ω–∞–ª–¥—ã</p>
                    </div>

                    <div class="tab-content" id="leaderboard">
                        <div class="leader-list">
                            <div class="leader-item top"><span>1. –ê—Ä–º–∞–Ω</span> <span>2500 XP</span></div>
                            <div class="leader-item top"><span>2. –ê–π—à–∞</span> <span>2100 XP</span></div>
                            <div class="leader-item me"><span>3. –ê—Å“õ–∞—Ä (–°—ñ–∑)</span> <span>1200 XP</span></div>
                            <div class="leader-item"><span>4. –î”ô—É—Ä–µ–Ω</span> <span>950 XP</span></div>
                        </div>
                    </div>

                    <div class="tab-content" id="progress">
                        <div class="progress-bar-container">
                            <p>–ñ–∞–ª–ø—ã –ø—Ä–æ–≥—Ä–µ—Å—Å: 10%</p>
                            <div class="progress-bg"><div class="progress-fill" style="width: 10%;"></div></div>
                        </div>
                        <ul class="task-check-list">
                            <li class="done">‚úÖ –ú–∏–∫—Ä–æ—Å–∫–æ–ø “õ“±—Ä—ã–ª—ã—Å—ã</li>
                            <li class="done">‚úÖ –ñ–∞—Å—É—à–∞ —Ç“Ø—Ä–ª–µ—Ä—ñ</li>
                            <li class="current">‚è≥ –ü–∏—è–∑ –∂–∞—Å—É—à–∞—Å—ã (–æ—Ä—ã–Ω–¥–∞–ª—É–¥–∞)</li>
                        </ul>
                    </div>
                </div>
            </aside>
        </main>
    </div>
    <script>
        const profile = document.getElementById('userProfile');
        const dropdown = document.getElementById('userDropdown');

        // –ü—Ä–æ—Ñ–∏–ª—å–¥—ñ –±–∞—Å“õ–∞–Ω–¥–∞ –º”ô–∑—ñ—Ä–¥—ñ –∞—à—É/–∂–∞–±—É
        profile.addEventListener('click', function(e) {
            e.stopPropagation(); // –ë–∞—Å“õ–∞ —ç–ª–µ–º–µ–Ω—Ç—Ç–µ—Ä–≥–µ ”ô—Å–µ—Ä –µ—Ç–ø–µ—É—ñ “Ø—à—ñ–Ω
            dropdown.classList.toggle('show');
        });

        // –≠–∫—Ä–∞–Ω–Ω—ã“£ –±–∞—Å“õ–∞ –∂–µ—Ä—ñ–Ω –±–∞—Å“õ–∞–Ω–¥–∞ –º”ô–∑—ñ—Ä–¥—ñ –∂–∞—É—ã–ø —Ç–∞—Å—Ç–∞—É
        window.addEventListener('click', function() {
            if (dropdown.classList.contains('show')) {
                dropdown.classList.remove('show');
            }
        });
        // –î—ã–±—ã—Å “õ–æ—Å“õ—ã—à—Ç–∞—Ä—ã–Ω –±–∞“õ—ã–ª–∞—É
        const sfxToggle = document.getElementById('sfxToggle');
        const bgMusic = document.getElementById('bgMusic');

            // 1. –ë–µ—Ç –∂“Ø–∫—Ç–µ–ª–≥–µ–Ω–¥–µ –º—É–∑—ã–∫–∞–Ω—ã“£ –∫“Ø–π—ñ–Ω “õ–∞–ª–ø—ã–Ω–∞ –∫–µ–ª—Ç—ñ—Ä—É
            window.addEventListener('load', () => {
                const isPlaying = localStorage.getItem('musicPlaying') === 'true';
                const savedTime = localStorage.getItem('musicTime');

                if (savedTime) {
                    bgMusic.currentTime = parseFloat(savedTime);
                }

                if (isPlaying) {
                    // –ë—Ä–∞—É–∑–µ—Ä–ª–µ—Ä –∞–≤—Ç–æ–º–∞—Ç—Ç—ã –º—É–∑—ã–∫–∞ –æ–π–Ω–∞—Ç—É“ì–∞ —Ä“±“õ—Å–∞—Ç –±–µ—Ä–º–µ—É—ñ –º“Ø–º–∫—ñ–Ω
                    // –°–æ–Ω–¥—ã“õ—Ç–∞–Ω –ø–∞–π–¥–∞–ª–∞–Ω—É—à—ã —ç–∫—Ä–∞–Ω–¥—ã –±—ñ—Ä —Ä–µ—Ç –±–∞—Å“õ–∞–Ω–¥–∞ –º—É–∑—ã–∫–∞ –±–∞—Å—Ç–∞–ª–∞–¥—ã
                    const startMusic = () => {
                        bgMusic.play().catch(e => console.log("–ú—É–∑—ã–∫–∞–Ω—ã –±–∞—Å—Ç–∞—É “Ø—à—ñ–Ω ”©–∑–∞—Ä–∞ ”ô—Ä–µ–∫–µ—Ç –∫–µ—Ä–µ–∫"));
                        document.removeEventListener('click', startMusic);
                    };
                    document.addEventListener('click', startMusic);
                }
            });

            // 2. –ú—É–∑—ã–∫–∞ –æ–π–Ω–∞–ø —Ç“±—Ä“ì–∞–Ω–¥–∞ –æ–Ω—ã“£ —É–∞“õ—ã—Ç—ã–Ω ”ô—Ä —Å–µ–∫—É–Ω–¥ —Å–∞–π—ã–Ω —Å–∞“õ—Ç–∞–ø –æ—Ç—ã—Ä—É
            bgMusic.addEventListener('timeupdate', () => {
                localStorage.setItem('musicTime', bgMusic.currentTime);
            });

            // 3. –ë–µ—Ç—Ç–µ–Ω –∫–µ—Ç–µ—Ä–¥–µ (–±–∞—Å“õ–∞ —Å—ñ–ª—Ç–µ–º–µ–≥–µ ”©—Ç–∫–µ–Ω–¥–µ) –∫“Ø–π—ñ–Ω —Å–æ“£“ì—ã —Ä–µ—Ç —Å–∞“õ—Ç–∞—É
            window.addEventListener('visibilitychange', () => {
                if (document.visibilityState === 'hidden') {
                    localStorage.setItem('musicTime', bgMusic.currentTime);
                }
            });

            // 4. –ï–≥–µ—Ä —Å—ñ–∑–¥–µ Toggle (“õ–æ—Å—É/”©—à—ñ—Ä—É) –±–∞—Ç—ã—Ä–º–∞—Å—ã –±–æ–ª—Å–∞, –æ–Ω—ã“£ –∫“Ø–π—ñ–Ω —Å–∞“õ—Ç–∞—É
            // –ú“±–Ω—ã —Ç–µ–∫ Toggle –±–∞—Ç—ã—Ä–º–∞—Å—ã –±–∞—Ä –±–µ—Ç—Ç–µ—Ä–≥–µ (–º”ô–∑—ñ—Ä–¥–µ) “õ–æ—Å—ã“£—ã–∑
            const bgmToggle = document.getElementById('bgmToggle'); // –°”ô–π–∫–µ—Å ID-–¥—ñ —Ç–µ–∫—Å–µ—Ä—ñ“£—ñ–∑
            if (bgmToggle) {
                bgmToggle.addEventListener('change', function() {
                    localStorage.setItem('musicPlaying', this.checked);
                    if (this.checked) {
                        bgMusic.play();
                    } else {
                        bgMusic.pause();
                    }
                });
                }
                // Toggle –∫“Ø–π—ñ–Ω –±—Ä–∞—É–∑–µ—Ä –∂–∞–¥—ã–Ω–∞ —Å–∞–π –æ—Ä–Ω–∞—Ç—É
                bgmToggle.checked = localStorage.getItem('musicPlaying') === 'true';
        const clickSound = document.getElementById('clickSound');
        const islands = document.querySelectorAll('.island');
        const overlay = document.getElementById('portalOverlay');
        const tablet = document.querySelector('.tablet-container');

        islands.forEach(island => {
            island.addEventListener('click', function() {
                if (sfxToggle.checked) {
                    clickSound.play();
                }

                // 1. –ê–Ω–∏–º–∞—Ü–∏—è–Ω—ã —ñ—Å–∫–µ “õ–æ—Å—É
                tablet.classList.add('portal-zoom');
                overlay.classList.add('overlay-active');

                // 2. –ê—Ä–∞–ª–¥—ã“£ –∞—Ç—ã–Ω–∞ “õ–∞—Ä–∞–π –∫–µ–ª–µ—Å—ñ –±–µ—Ç–∫–µ ”©—Ç—É (–º—ã—Å–∞–ª—ã: micro.html)
                const destination = this.classList.contains('micro-world') ? 'micro-world.html' : 
                                this.classList.contains('botanic-garden') ? 'botany.html' : 
                                this.classList.contains('anatomy-corp') ? 'anatomy.html' : 'genetics.html';

                // 3. –ê–Ω–∏–º–∞—Ü–∏—è –±—ñ—Ç—É—ñ–Ω –∫“Ø—Ç—ñ–ø (800–º—Å), —Å–æ—Å—ã–Ω –±–µ—Ç—Ç—ñ –∞—É—ã—Å—Ç—ã—Ä—É
                setTimeout(() => {
                    window.location.href = destination;
                }, 800);
            });
        });
        sfxToggle.addEventListener('change', function() {
            if(this.checked) {
                console.log("–î—ã–±—ã—Å —ç—Ñ—Ñ–µ–∫—Ç—ñ–ª–µ—Ä—ñ “õ–æ—Å—ã–ª–¥—ã");
                // –ú“±–Ω–¥–∞ –¥—ã–±—ã—Å—Ç—ã “õ–æ—Å—É –∫–æ–¥—ã –±–æ–ª–∞–¥—ã
            } else {
                console.log("–î—ã–±—ã—Å —ç—Ñ—Ñ–µ–∫—Ç—ñ–ª–µ—Ä—ñ ”©—à—ñ—Ä—ñ–ª–¥—ñ");
            }
        });
        bgmToggle.addEventListener('change', function() {
            if (this.checked) {
                bgMusic.play();
                bgMusic.volume = 0.3; // –ú—É–∑—ã–∫–∞ “õ–∞—Ç—Ç—ã –±–æ–ª–º–∞—É—ã “Ø—à—ñ–Ω (30%)
            } else {
                bgMusic.pause();
            }
        });
        islands.forEach(island => {
            // –ë–∞—Å“õ–∞–Ω–¥–∞“ì—ã (click) –¥—ã–±—ã—Å
            island.addEventListener('click', () => {
                if (sfxToggle.checked) {
                    clickSound.currentTime = 0;
                    clickSound.play();
                }
            });
        });  
        
        function openTab(evt, tabName) {
        var i, tabContent, tabBtns;

        // –ë–∞—Ä–ª—ã“õ –∫–æ–Ω—Ç–µ–Ω—Ç—Ç—ñ –∂–∞—Å—ã—Ä—É
        tabContent = document.getElementsByClassName("tab-content");
        for (i = 0; i < tabContent.length; i++) {
            tabContent[i].style.display = "none";
            tabContent[i].classList.remove("active");
        }

        // –ë–∞—Ä–ª—ã“õ –±–∞—Ç—ã—Ä–º–∞–ª–∞—Ä–¥–∞–Ω "active" –∫–ª–∞—Å—ã–Ω –∞–ª—ã–ø —Ç–∞—Å—Ç–∞—É
        tabBtns = document.getElementsByClassName("tab-btn");
        for (i = 0; i < tabBtns.length; i++) {
            tabBtns[i].classList.remove("active");
        }

        // –¢–∞“£–¥–∞–ª“ì–∞–Ω –∫–æ–Ω—Ç–µ–Ω—Ç—Ç—ñ –∫”©—Ä—Å–µ—Ç—É –∂”ô–Ω–µ –±–∞—Ç—ã—Ä–º–∞–Ω—ã –±–µ–ª—Å–µ–Ω–¥—ñ –µ—Ç—É
        document.getElementById(tabName).style.display = "block";
        document.getElementById(tabName).classList.add("active");
        evt.currentTarget.classList.add("active");

        // –î—ã–±—ã—Å —ç—Ñ—Ñ–µ–∫—Ç—ñ—Å—ñ–Ω “õ–æ—Å—É (–µ–≥–µ—Ä SFX “õ–æ—Å—É–ª—ã –±–æ–ª—Å–∞)
        if (typeof hoverSound !== 'undefined' && sfxToggle.checked) {
            hoverSound.play();
        }
    }
    // –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å–¥–∞“ì—ã –∑–∞—Ç—Ç–∞—Ä–¥—ã“£ –º”ô–ª—ñ–º–µ—Ç—Ç–µ—Ä—ñ
        const inventoryData = {
            'üî¨': { name: "–ú–∏–∫—Ä–æ—Å–∫–æ–ø", cat: "“ö“±—Ä–∞–ª-—Å–∞–π–º–∞–Ω", desc: "–ú–∏–∫—Ä–æ”ô–ª–µ–º–¥—ñ –∑–µ—Ä—Ç—Ç–µ—É–≥–µ –∞—Ä–Ω–∞–ª“ì–∞–Ω –Ω–µ–≥—ñ–∑–≥—ñ –æ–ø—Ç–∏–∫–∞–ª—ã“õ –∞—Å–ø–∞–ø. –ñ–∞—Å—É—à–∞–ª–∞—Ä–¥—ã 1000 –µ—Å–µ–≥–µ –¥–µ–π—ñ–Ω “Ø–ª–∫–µ–π—Ç–µ –∞–ª–∞–¥—ã." },
            'üß´': { name: "“ö–∞—Ä–∞–ø–∞–π—ã–º–¥—ã–ª–∞—Ä", cat: "–ú–∏–∫—Ä–æ–±–∏–æ–ª–æ–≥–∏—è", desc: "–ë—ñ—Ä –∂–∞—Å—É—à–∞–ª—ã ”©—Ç–µ –∫—ñ—à–∫–µ–Ω—Ç–∞–π –∞“ì–∑–∞ —Ç“Ø—Ä–ª–µ—Ä—ñ." },
            'ü¶†': { name: "–ö–ª–µ—Ç–∫–∞ “õ“±—Ä—ã–ª—ã–º—ã", cat: "–ë–∏–æ–ª–æ–≥–∏—è", desc: "–ñ–∞—Å—É—à–∞–Ω—ã“£ –Ω–µ–≥—ñ–∑–≥—ñ –±”©–ª—ñ–∫—Ç–µ—Ä—ñ–Ω –∫”©—Ä—Å–µ—Ç–µ—Ç—ñ–Ω “Ø–ª–≥—ñ. –¶–∏—Ç–æ–ø–ª–∞–∑–º–∞, —è–¥—Ä–æ, –º–∏—Ç–æ—Ö–æ–Ω–¥—Ä–∏—è –∂”ô–Ω–µ —Ç.–±. “õ–∞–º—Ç–∏–¥—ã." },
            'üß¨': { name: "–î–ù“ö “Ø–ª–≥—ñ—Å—ñ", cat: "–ì–µ–Ω–µ—Ç–∏–∫–∞", desc: "–¢—ñ—Ä—ñ –∞“ì–∑–∞–Ω—ã“£ –≥–µ–Ω–µ—Ç–∏–∫–∞–ª—ã“õ –∫–æ–¥—ã–Ω —Ç–∞—Å—ã–º–∞–ª–¥–∞–π—Ç—ã–Ω –º–æ–ª–µ–∫—É–ª–∞. –¢“±“õ—ã–º “õ—É–∞–ª–∞—É –∞“õ–ø–∞—Ä–∞—Ç—ã–Ω —Å–∞“õ—Ç–∞–π–¥—ã." },
            'üß™': { name: "–†–µ–∞–∫—Ç–∏–≤", cat: "–•–∏–º–∏—è", desc: "–ñ–∞—Å—É—à–∞ “õ“±—Ä—ã–ª—ã–º—ã–Ω –∞–π“õ—ã–Ω–¥–∞–ø –∫”©—Ä—Å–µ—Ç—É “Ø—à—ñ–Ω “õ–æ–ª–¥–∞–Ω—ã–ª–∞—Ç—ã–Ω –∞—Ä–Ω–∞–π—ã –±–æ—è“ì—ã—à –∑–∞—Ç." }
        };

        const modal = document.getElementById("inventoryModal");
        const badges = document.querySelectorAll(".badge.active");

        badges.forEach(badge => {
            badge.addEventListener("click", function() {
                const icon = this.innerText;
                const data = inventoryData[icon];

                if (data) {
                    document.getElementById("itemIcon").innerText = icon;
                    document.getElementById("itemName").innerText = data.name;
                    document.getElementById("itemCategory").innerText = data.cat;
                    document.getElementById("itemDescription").innerText = data.desc;
                    
                    modal.style.display = "block";
                    if (sfxToggle.checked) clickSound.play();
                }
            });
        });

        // –¢–µ—Ä–µ–∑–µ–Ω—ñ –∂–∞–±—É
        document.querySelector(".close-modal").onclick = () => modal.style.display = "none";
        window.onclick = (event) => { if (event.target == modal) modal.style.display = "none"; }

    </script>
</body>
</html>
