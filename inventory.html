<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ë–∏–æ—Å—Ñ–µ—Ä–∞ - –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-glow: #00f0ff;
            --secondary-glow: #00ff41;
            --bg-dark: #050b14;
            --panel-bg: rgba(12, 28, 48, 0.9);
            --border-color: #2a5a75;
        }

        body {
            background: var(--bg-dark);
            color: white;
            font-family: 'Rajdhani', sans-serif;
            margin: 0;
            min-height: 100vh;
            background-image: radial-gradient(circle at center, #1a2a3a 0%, #000 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px;
        }

        .stars { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }

        .header {
            width: 100%;
            max-width: 1000px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        h1 { font-family: 'Orbitron', sans-serif; color: var(--primary-glow); text-shadow: 0 0 15px var(--primary-glow); }

        .btn-back {
            color: white; border: 1px solid var(--primary-glow);
            padding: 10px 20px; border-radius: 5px; text-decoration: none;
            transition: 0.3s; background: rgba(0, 240, 255, 0.1);
        }
        .btn-back:hover { background: var(--primary-glow); color: black; }

        /* –§–∏–ª—å—Ç—Ä—ã */
        .filter-bar {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }

        .filter-btn {
            background: transparent;
            border: 1px solid var(--border-color);
            color: #8aa;
            padding: 8px 25px;
            cursor: pointer;
            border-radius: 20px;
            font-family: 'Rajdhani';
            transition: 0.3s;
        }

        .filter-btn.active {
            border-color: var(--primary-glow);
            color: var(--primary-glow);
            background: rgba(0, 240, 255, 0.1);
        }

        /* –°–µ—Ç–∫–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è */
        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 20px;
            width: 100%;
            max-width: 1000px;
        }

        .item-card {
            background: var(--panel-bg);
            border: 1px solid var(--border-color);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: 0.3s;
            position: relative;
            overflow: hidden;
        }

        .item-card:hover {
            border-color: var(--primary-glow);
            transform: translateY(-5px);
            box-shadow: 0 0 20px rgba(0, 240, 255, 0.3);
        }

        .item-card.locked {
            opacity: 0.4;
            filter: grayscale(1);
            cursor: not-allowed;
        }

        .item-icon { font-size: 3rem; margin-bottom: 10px; }
        .item-name { font-weight: bold; font-size: 1.1rem; }
        .item-rarity { font-size: 0.7rem; text-transform: uppercase; color: var(--secondary-glow); margin-top: 5px; }

        .lock-icon {
            position: absolute;
            top: 10px; right: 10px;
            font-size: 0.8rem;
        }

        /* –û–∫–Ω–æ –¥–µ—Ç–∞–ª–µ–π (Modal) */
        .modal {
            display: none; position: fixed; z-index: 100;
            left: 0; top: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); backdrop-filter: blur(10px);
        }

        .modal-content {
            background: #0a1a2a;
            margin: 10% auto;
            padding: 40px;
            border: 2px solid var(--primary-glow);
            width: 500px;
            border-radius: 20px;
            display: flex;
            gap: 30px;
            align-items: center;
        }

        .modal-icon { font-size: 6rem; background: rgba(0,240,255,0.1); padding: 20px; border-radius: 15px; }
    </style>
</head>
<body>
    <audio id="bgMusic" loop>
        <source src="—Ñ–æ–Ω.mp3" type="audio/mp3">
    </audio>

    <div class="stars" id="starField"></div>

    <div class="header">
        <h1>“ö–û–†–ñ–´–ù (INVENTORY)</h1>
        <a href="map.html" class="btn-back">‚¨Ö –ö–∞—Ä—Ç–∞“ì–∞</a>
    </div>

    <div class="filter-bar">
        <button class="filter-btn active">–ë–ê–†–õ–´“í–´</button>
        <button class="filter-btn">–í–ò–†–£–°–¢–ê–†</button>
        <button class="filter-btn">–°–ê“¢–´–†–ê–£“ö“∞–õ–ê“ö–¢–ê–†</button>
        <button class="filter-btn">”®–°–Ü–ú–î–Ü–ö–¢–ï–†</button>
        <button class="filter-btn">–ñ–ê–ù–£–ê–†–õ–ê–†</button>
        <button class="filter-btn">–ê–î–ê–ú –ê–ù–ê–¢–û–ú–ò–Ø–°–´ –ú–ï–ù –§–ò–ó–ò–û–õ–û–ì–ò–Ø–°–´</button>
        <button class="filter-btn">“ö“∞–†–ê–õ–î–ê–†</button>
    </div>

    <div class="inventory-grid">
        <div class="item-card" onclick="showDetails('üî¨', '–ú–∏–∫—Ä–æ—Å–∫–æ–ø', '“ö“±—Ä–∞–ª-—Å–∞–π–º–∞–Ω', '–ú–∏–∫—Ä–æ”ô–ª–µ–º–¥—ñ –∑–µ—Ä—Ç—Ç–µ—É–≥–µ –∞—Ä–Ω–∞–ª“ì–∞–Ω –Ω–µ–≥—ñ–∑–≥—ñ –æ–ø—Ç–∏–∫–∞–ª—ã“õ –∞—Å–ø–∞–ø.')">
            <div class="item-icon">üî¨</div>
            <div class="item-name">–ú–∏–∫—Ä–æ—Å–∫–æ–ø</div>
            <div class="item-rarity">–ë–∞–∑–∞–ª—ã“õ</div>
        </div>

        <div class="item-card locked" id="bioObjectCard" onclick="checkBioAccess()">
            <span class="lock-icon" id="bioLock">üîí</span>
            <div class="item-icon">üçÉ</div>
            <div class="item-name">–ë–∏–æ-“Ø–ª–≥—ñ–ª–µ—Ä –∂–∏–Ω–∞“ì—ã</div>
            <div class="item-rarity" id="bioStatus">“ö“±–ª—ã–ø—Ç–∞–ª“ì–∞–Ω</div>
        </div>

        <div class="item-card" onclick="showDetails('ü¶†', '–ö–ª–µ—Ç–∫–∞ “õ“±—Ä—ã–ª—ã–º—ã', '–ñ–∞—Å—É—à–∞–ª—ã“õ –±–∏–æ–ª–æ–≥–∏—è', '–¢—ñ—Ä—ñ –∞“ì–∑–∞–Ω—ã“£ –µ“£ –∫—ñ—à—ñ ”©–ª—à–µ–º –±—ñ—Ä–ª—ñ–≥—ñ.')">
            <div class="item-icon">ü¶†</div>
            <div class="item-name">–ö–ª–µ—Ç–∫–∞ “õ“±—Ä—ã–ª—ã–º—ã</div>
            <div class="item-rarity">–°–∏—Ä–µ–∫</div>
        </div>

        <div class="item-card" onclick="showDetails('üß´', '“ö–∞—Ä–∞–ø–∞–π—ã–º –¥—ã–ª–∞—Ä', '–ú–∏–∫—Ä–æ–±–∏–æ–ª–æ–≥–∏—è', '–ë—ñ—Ä –∂–∞—Å—É—à–∞–ª—ã ”©—Ç–µ –∫—ñ—à–∫–µ–Ω—Ç–∞–π –∞“ì–∑–∞ —Ç“Ø—Ä–ª–µ—Ä—ñ.')">
            <div class="item-icon">üß´</div>
            <div class="item-name">“ö–∞—Ä–∞–ø–∞–π—ã–º –¥—ã–ª–∞—Ä</div>
            <div class="item-rarity">–ñ–∞–ª–ø—ã</div>
        </div>

        <div class="item-card locked">
            <span class="lock-icon">üîí</span>
            <div class="item-icon">üß†</div>
            <div class="item-name">–ú–∏</div>
            <div class="item-rarity">–ë–µ–ª–≥—ñ—Å—ñ–∑</div>
        </div>

        <div class="item-card locked">
            <span class="lock-icon">üîí</span>
            <div class="item-icon">ü´Ä</div>
            <div class="item-name">–ñ“Ø—Ä–µ–∫</div>
            <div class="item-rarity">–ë–µ–ª–≥—ñ—Å—ñ–∑</div>
        </div>

        <div class="item-card locked">
            <span class="lock-icon">üîí</span>
            <div class="item-icon">ü´Å</div>
            <div class="item-name">”®–∫–ø–µ</div>
            <div class="item-rarity">–ë–µ–ª–≥—ñ—Å—ñ–∑</div>
        </div>

        <div class="item-card locked">
            <span class="lock-icon">üîí</span>
            <div class="item-icon">ü¶∑</div>
            <div class="item-name">”®–∫–ø–µ</div>
            <div class="item-rarity">–ë–µ–ª–≥—ñ—Å—ñ–∑</div>
        </div>

        <div class="item-card locked">
            <span class="lock-icon">üîí</span>
            <div class="item-icon">üåç</div>
            <div class="item-name">–≠–∫–æ–∂“Ø–π–µ</div>
            <div class="item-rarity">–ë–µ–ª–≥—ñ—Å—ñ–∑</div>
        </div>
    </div>

    <div id="itemModal" class="modal">
        <div class="modal-content">
            <div class="modal-icon" id="mIcon"></div>
            <div>
                <h2 id="mName" style="color: var(--primary-glow); font-family: 'Orbitron';"></h2>
                <p id="mCat" style="color: var(--secondary-glow); font-size: 0.9rem;"></p>
                <p id="mDesc" style="margin-top: 15px; line-height: 1.6;"></p>
                <button onclick="closeModal()" class="btn-back" style="margin-top: 20px; width: 100%;">–ñ–ê–ë–£</button>
            </div>
        </div>
    </div>

    <script>
        function showDetails(icon, name, cat, desc) {
            document.getElementById('mIcon').innerText = icon;
            document.getElementById('mName').innerText = name;
            document.getElementById('mCat').innerText = cat;
            document.getElementById('mDesc').innerText = desc;
            document.getElementById('itemModal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('itemModal').style.display = 'none';
        }

        // –ó–≤–µ–∑–¥—ã
        function createStars() {
            const starField = document.getElementById('starField');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.style.position = 'absolute';
                star.style.width = '2px';
                star.style.height = '2px';
                star.style.background = 'white';
                star.style.top = Math.random() * 100 + 'vh';
                star.style.left = Math.random() * 100 + 'vw';
                star.style.opacity = Math.random();
                starField.appendChild(star);
            }
        }
        createStars();
        const bgMusic = document.getElementById('bgMusic');

        // 1. –ë–µ—Ç –∂“Ø–∫—Ç–µ–ª–≥–µ–Ω–¥–µ –º—É–∑—ã–∫–∞–Ω—ã“£ –∫“Ø–π—ñ–Ω “õ–∞–ª–ø—ã–Ω–∞ –∫–µ–ª—Ç—ñ—Ä—É
        window.addEventListener('load', () => {
            const isPlaying = localStorage.getItem('musicPlaying') === 'true';
            const savedTime = localStorage.getItem('musicTime');

            if (savedTime) {
                bgMusic.currentTime = parseFloat(savedTime);
            }

            if (isPlaying) {
                // –ë—Ä–∞—É–∑–µ—Ä–ª–µ—Ä –∞–≤—Ç–æ–º–∞—Ç—Ç—ã –º—É–∑—ã–∫–∞ –æ–π–Ω–∞—Ç—É“ì–∞ —Ä“±“õ—Å–∞—Ç –±–µ—Ä–º–µ—É—ñ –º“Ø–º–∫—ñ–Ω
                // –°–æ–Ω–¥—ã“õ—Ç–∞–Ω –ø–∞–π–¥–∞–ª–∞–Ω—É—à—ã —ç–∫—Ä–∞–Ω–¥—ã –±—ñ—Ä —Ä–µ—Ç –±–∞—Å“õ–∞–Ω–¥–∞ –º—É–∑—ã–∫–∞ –±–∞—Å—Ç–∞–ª–∞–¥—ã
                const startMusic = () => {
                    bgMusic.play().catch(e => console.log("–ú—É–∑—ã–∫–∞–Ω—ã –±–∞—Å—Ç–∞—É “Ø—à—ñ–Ω ”©–∑–∞—Ä–∞ ”ô—Ä–µ–∫–µ—Ç –∫–µ—Ä–µ–∫"));
                    document.removeEventListener('click', startMusic);
                };
                document.addEventListener('click', startMusic);
            }
        });

        // 2. –ú—É–∑—ã–∫–∞ –æ–π–Ω–∞–ø —Ç“±—Ä“ì–∞–Ω–¥–∞ –æ–Ω—ã“£ —É–∞“õ—ã—Ç—ã–Ω ”ô—Ä —Å–µ–∫—É–Ω–¥ —Å–∞–π—ã–Ω —Å–∞“õ—Ç–∞–ø –æ—Ç—ã—Ä—É
        bgMusic.addEventListener('timeupdate', () => {
            localStorage.setItem('musicTime', bgMusic.currentTime);
        });

        // 3. –ë–µ—Ç—Ç–µ–Ω –∫–µ—Ç–µ—Ä–¥–µ (–±–∞—Å“õ–∞ —Å—ñ–ª—Ç–µ–º–µ–≥–µ ”©—Ç–∫–µ–Ω–¥–µ) –∫“Ø–π—ñ–Ω —Å–æ“£“ì—ã —Ä–µ—Ç —Å–∞“õ—Ç–∞—É
        window.addEventListener('visibilitychange', () => {
            if (document.visibilityState === 'hidden') {
                localStorage.setItem('musicTime', bgMusic.currentTime);
            }
        });

        // 4. –ï–≥–µ—Ä —Å—ñ–∑–¥–µ Toggle (“õ–æ—Å—É/”©—à—ñ—Ä—É) –±–∞—Ç—ã—Ä–º–∞—Å—ã –±–æ–ª—Å–∞, –æ–Ω—ã“£ –∫“Ø–π—ñ–Ω —Å–∞“õ—Ç–∞—É
        // –ú“±–Ω—ã —Ç–µ–∫ Toggle –±–∞—Ç—ã—Ä–º–∞—Å—ã –±–∞—Ä –±–µ—Ç—Ç–µ—Ä–≥–µ (–º”ô–∑—ñ—Ä–¥–µ) “õ–æ—Å—ã“£—ã–∑
        const bgmToggle = document.getElementById('bgmToggle'); // –°”ô–π–∫–µ—Å ID-–¥—ñ —Ç–µ–∫—Å–µ—Ä—ñ“£—ñ–∑
        if (bgmToggle) {
            bgmToggle.addEventListener('change', function() {
                localStorage.setItem('musicPlaying', this.checked);
                if (this.checked) {
                    bgMusic.play();
                } else {
                    bgMusic.pause();
                }
            });
            
            // Toggle –∫“Ø–π—ñ–Ω –±—Ä–∞—É–∑–µ—Ä –∂–∞–¥—ã–Ω–∞ —Å–∞–π –æ—Ä–Ω–∞—Ç—É
            bgmToggle.checked = localStorage.getItem('musicPlaying') === 'true';
        }

        function updateInventory() {
            // 3-–∫–µ–∑–µ“£ –∞—è“õ—Ç–∞–ª“ì–∞–Ω—ã–Ω —Ç–µ–∫—Å–µ—Ä—É
            const hasBioObject = localStorage.getItem('hasBioObject') === 'true';
            const card = document.getElementById('bioObjectCard');
            const lock = document.getElementById('bioLock');
            const status = document.getElementById('bioStatus');

            if (hasBioObject) {
                // “ö“±–ª—ã–ø—Ç—ã –∞—à—É
                card.classList.remove('locked');
                lock.innerText = "üîì";
                status.innerText = "–ê–ª—ã–Ω–¥—ã";
                status.style.color = "var(--secondary-glow)";
                
                // –ö–∞—Ä—Ç–∞–Ω—ã –±–∞—Å“õ–∞–Ω–¥–∞ –∞“õ–ø–∞—Ä–∞—Ç —à—ã“ì–∞—Ä—É —Ñ—É–Ω–∫—Ü–∏—è—Å—ã–Ω ”©–∑–≥–µ—Ä—Ç—É
                card.onclick = function() {
                    showDetails('üçÉ', '–ë–∏–æ-“Ø–ª–≥—ñ–ª–µ—Ä –∂–∏–Ω–∞“ì—ã', '–ë–∏–æ–ª–æ–≥–∏—è–ª—ã“õ –º–∞—Ç–µ—Ä–∏–∞–ª', '–ú–∏–∫—Ä–æ—Å–∫–æ–ø–ø–µ–Ω –∑–µ—Ä—Ç—Ç–µ—É–≥–µ –∞—Ä–Ω–∞–ª“ì–∞–Ω –ø–∏—è–∑ “õ–∞–±—ã“ì—ã, –∂–∞–ø—ã—Ä–∞“õ –∂”ô–Ω–µ —Å—É “Ø–ª–≥—ñ–ª–µ—Ä—ñ –±–∞—Ä –∂–∏–Ω–∞“õ.');
                };
            }
        }

        // –ë–µ—Ç –∂“Ø–∫—Ç–µ–ª–≥–µ–Ω–¥–µ —Ç–µ–∫—Å–µ—Ä—É–¥—ñ —ñ—Å–∫–µ “õ–æ—Å—É
        window.addEventListener('load', updateInventory);

        function checkBioAccess() {
            if (localStorage.getItem('hasBioObject') !== 'true') {
                alert("–ë“±–ª –æ–±—ä–µ–∫—Ç—ñ–Ω—ñ –∞–ª—É “Ø—à—ñ–Ω 3-–∫–µ–∑–µ“£–¥—ñ (–ú–∏–∫—Ä–æ—Å–∫–æ–ø “õ“±—Ä—ã–ª—ã—Å—ã) –∞—è“õ—Ç–∞“£—ã–∑!");
            }
        }
    </script>
</body>
</html>